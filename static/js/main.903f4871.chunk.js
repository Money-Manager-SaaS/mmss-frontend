(this.webpackJsonpmmcloud=this.webpackJsonpmmcloud||[]).push([[0],{241:function(e,a){e.exports="data:image/png;base64,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"},255:function(e,a,t){e.exports=t(502)},260:function(e,a,t){},284:function(e,a,t){},291:function(e,a,t){},481:function(e,a,t){},482:function(e,a,t){},483:function(e,a,t){},484:function(e,a,t){},493:function(e,a,t){},501:function(e,a,t){},502:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(260),t(219)),i=t(220),s=t(247),u=t(250),m=(t(261),t(51)),d=t.n(m),E=t(136),p=t(27),f=t(17),y=t(43),b={transaction:{get_transactions:function(e){return{type:"GET_TRANSACTIONS",data:e}},add_transaction:function(e){return{type:"ADD_TRANSACTION",data:e}},delete_transaction:function(e){return{type:"DELETE_TRANSACTION",data:e}},update_transaction:function(e){return{type:"UPDATE_TRANSACTION",data:e}}},account:{get_accounts:function(e){return{type:"GET_ACCOUNTS",data:e}},add_account:function(e){return{type:"ADD_ACCOUNT",data:e}},delete_account:function(e){return{type:"DELETE_ACCOUNT",data:e}},update_account:function(e){return{type:"UPDATE_ACCOUNT",data:e}}},category:{get_categories:function(e){return{type:"GET_CATEGORIES",data:e}},add_category:function(e){return{type:"ADD_CATEGORY",data:e}},delete_category:function(e){return{type:"DELETE_CATEGORY",data:e}},update_category:function(e){return{type:"UPDATE_CATEGORY",data:e}}},user:{change_auth:function(e){return{type:"CHANGE_AUTH",data:e}}},payee:{get_payees:function(e){return{type:"GET_PAYEES",data:e}},add_payee:function(e){return{type:"ADD_PAYEE",data:e}},delete_payee:function(e){return{type:"DELETE_PAYEE",data:e}},update_payee:function(e){return{type:"UPDATE_PAYEE",data:e}}},globalLoading:{global_loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"GLOBAL_LOADING",data:e}}}},g=t(33),A=(t(176),t(70)),h=(t(275),t(236)),v=(t(277),t(170)),T=(t(44),t(8)),O=(t(79),t(28)),N=t(20),C=(t(218),t(134)),k=(t(105),t(15)),j=t(510),D=t(511),w=(t(284),t(29)),I=t.n(w),S=(t(178),t(92)),P=(t(179),t(102)),x=(t(287),t(248)),Y=(t(180),t(59)),U=(t(94),t(12)),R=t(505),L=(t(291),{labelCol:{span:8},wrapperCol:{span:16}});function M(){return r.a.createElement(U.a,L,r.a.createElement(U.a.Item,{label:"Date",name:"date"},r.a.createElement(C.a,{initialValues:I()(new Date),format:"MM/DD/YYYY"})),r.a.createElement(U.a.Item,{label:"Type",name:"type"},r.a.createElement(Y.a.Group,{initialValues:"withdraw"},r.a.createElement(Y.a,{value:"withdraw",className:"select-radio"},"Withdraw"),r.a.createElement(Y.a,{value:"transfer",className:"select-radio"},"Transfer"),r.a.createElement(Y.a,{value:"desposit",className:"select-radio"},"Desposit"))),r.a.createElement(U.a.Item,{label:"Account",name:"account"},r.a.createElement(k.a,{style:{width:140},defaultValue:"ANZ"},r.a.createElement(k.a.Option,{value:"ANZ"},"ANZ"),r.a.createElement(k.a.Option,{value:"Cash"},"Cash"),r.a.createElement(k.a.Option,{value:"Alipay"},"Alipay"),r.a.createElement(k.a.Option,{value:"Kiwibank"},"Kiwibank"))),r.a.createElement(U.a.Item,{label:"To",name:"to"},r.a.createElement(k.a,{style:{width:140},defaultValue:"ANZ"},r.a.createElement(k.a.Option,{value:"ANZ"},"ANZ"),r.a.createElement(k.a.Option,{value:"Cash"},"Cash"),r.a.createElement(k.a.Option,{value:"Alipay"},"Alipay"),r.a.createElement(k.a.Option,{value:"Kiwibank"},"Kiwibank"))),r.a.createElement(U.a.Item,{label:"Amount",name:"amount"},r.a.createElement(x.a,{initialValues:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})),r.a.createElement(U.a.Item,{label:"Payee",name:"payee"},r.a.createElement(k.a,{showSearch:!0,style:{width:140},placeholder:"Search payee",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(P.a,{style:{margin:"4px 0"}}),r.a.createElement(S.a,{style:{display:"flex",flexWrap:"nowrap",padding:8}},r.a.createElement(O.a,{style:{width:80}}),r.a.createElement(T.a,{type:"primary",shape:"circle",icon:r.a.createElement(R.a,null)})))}})),r.a.createElement(U.a.Item,{label:"Category",name:"category"},r.a.createElement(k.a,{showSearch:!0,style:{width:140},placeholder:"Search category",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(P.a,{style:{margin:"4px 0"}}),r.a.createElement(S.a,{style:{display:"flex",flexWrap:"nowrap",padding:8}},r.a.createElement(O.a,{style:{width:80}}),r.a.createElement(T.a,{type:"primary",shape:"circle",icon:r.a.createElement(R.a,null)})))}})),r.a.createElement(U.a.Item,{label:"Note",name:"note"},r.a.createElement(O.a.TextArea,{rows:3,style:{width:160}})))}t(503);var _=t(246),G=(t(504),t(251)),B=(t(117),t(34)),q=t(249),J=t(506),z=t(507),K=t(508),W=t(509),F=t(252),H=k.a.Option,X=function(e){var a=e.editing,t=e.dataIndex,c=e.title,l=e.inputType,o=(e.record,e.index,e.children),i=e.selectTable,s=Object(F.a)(e,["editing","dataIndex","title","inputType","record","index","children","selectTable"]),u=Object(n.useState)(),m=Object(N.a)(u,2),d=m[0],E=m[1];var p="select"===l?r.a.createElement(k.a,{className:"search-field",style:{minWidth:80},placeholder:"Select Categories",value:d,onChange:function(e){E(e)},optionLabelProp:"label"},Object.keys(i).map((function(e,a){return r.a.createElement(H,{key:a,value:e,label:i[e]},i[e])}))):r.a.createElement(O.a,{style:{maxWidth:100}});return r.a.createElement("td",s,a?r.a.createElement(U.a.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(c,"!")}]},p):o)};function Q(e){var a=e.transactions,t=e.accountsTable,c=e.categoriesTable,l=e.payeesTable,o=e.typesTable,i=Object(n.useState)([]),s=Object(N.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)((function(){m(a.map((function(e){return{key:e.id,date:I()(e.createdAt).format("MM/DD/YYYY"),account:t[e.accountID],to:t[e.toAccountID],amount:"$"+e.amount.toFixed(2),type:o[e.transferType],payee:l[e.payeeId],category:c[e.categoryID],note:e.note,action:null}})))}),[a,t,c,l,o]);var d=U.a.useForm(),E=Object(N.a)(d,1)[0],p=function(){h("")},f=[{title:"DATE",dataIndex:"date",key:"date",editable:!0},{title:"ACCOUNT",dataIndex:"account",key:"account",editable:!0},{title:"TO",dataIndex:"to",key:"to",editable:!0},{title:"AMOUNT",dataIndex:"amount",key:"amount",editable:!0},{title:"TYPE",dataIndex:"type",key:"type",editable:!0},{title:"PAYEE",dataIndex:"payee",key:"payee",editable:!0},{title:"CATEGORY",dataIndex:"category",key:"category",editable:!0,inputType:"select",selectTable:c},{title:"NOTE",dataIndex:"note",key:"note",editable:!0},{title:"action",key:"action",render:function(e,a){var t=v(a);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(S.a,null,r.a.createElement(B.a,{placement:"top",title:"Save"},r.a.createElement(T.a,{className:"edit-save-btn",shape:"circle-outline",onClick:function(){return function(e){try{console.log(E);var a=E.getFieldsValue(),t=Object(q.a)(u),n=t.findIndex((function(a){return e===a.key}));if(console.log(a,e,n),n>-1)t[n].category!==a.category&&(a=Object(g.a)({},a,{category:c[a.category]})),t.splice(n,1,a),m(t),h("");else t.push(a),m(t),h("")}catch(r){console.log("Validate Failed:",r)}}(a.key)},icon:r.a.createElement(J.a,null)})),r.a.createElement(B.a,{placement:"top",title:"Cancel"},r.a.createElement(T.a,{className:"cancelbtn",shape:"circle",onClick:p,icon:r.a.createElement(z.a,null)}))):r.a.createElement(S.a,null,r.a.createElement(B.a,{placement:"top",title:"Edit"},r.a.createElement(T.a,{disabled:""!==A,onClick:function(){return function(e){E.setFieldsValue(Object(g.a)({},e)),h(e.key)}(a)},shape:"circle-outline",className:"edit-save-btn",icon:r.a.createElement(K.a,null)})),r.a.createElement(G.a,{title:"Sure ?",onConfirm:function(){!function(e){m(u.filter((function(a){return a.key!==e.key})))}(e)}},r.a.createElement(B.a,{placement:"top",title:"Delete"},r.a.createElement(T.a,{disabled:""!==A,shape:"circle-outline",className:"deletebtn",icon:r.a.createElement(W.a,null)})))))}}],y=Object(n.useState)(""),b=Object(N.a)(y,2),A=b[0],h=b[1],v=function(e){return e.key===A},O=f.map((function(e){return e.editable?Object(g.a)({},e,{onCell:function(a){return{record:a,inputType:e.inputType?e.inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:v(a),selectTable:e.selectTable}}}):e}));return r.a.createElement(U.a,{form:E,component:!1},r.a.createElement(_.a,{dataSource:u,size:"middle",columns:O,components:{body:{cell:X}}}))}var V=t(462).create({baseURL:"https://mm-cloud.herokuapp.com/",timeout:1e4,withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"},maxContentLength:2e4,transformResponse:function(e){try{e=JSON.parse(e)}catch(a){e={}}return e}}),Z=function(e){return V.get(e.url,{params:e.data})},$=k.a.Option,ee=C.a.RangePicker,ae={"-1":"Withdraw",0:"Transfer",1:"Deposit"};var te=Object(f.connect)((function(e){return Object(g.a)({},e.account,{},e.category,{},e.payee)}),b.globalLoading)((function(e){var a=e.accountsTable,t=e.categoriesTable,c=e.global_loading,l=e.payeesTable,o=Object(n.useState)([]),i=Object(N.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(I()().subtract(3,"day")),E=Object(N.a)(d,2),p=E[0],f=E[1],y=Object(n.useState)(I()()),b=Object(N.a)(y,2),g=b[0],C=b[1],w=Object(n.useState)(),S=Object(N.a)(w,2),P=S[0],x=S[1],Y=Object(n.useState)([]),U=Object(N.a)(Y,2),R=U[0],L=U[1];return Object(n.useEffect)((function(){var e;c(),Z({data:e,url:"api/v1/transactions"}).then((function(e){200===e.status?(console.log(e.data),u(e.data.transactions)):m.toastr.warning("Opps","Not Get Transactions"),c(!1)})).catch((function(e){c(!1),m.toastr.error("Error","Not Get Transactions"),console.log(e)}))}),[c]),r.a.createElement("div",{className:"main-content"},r.a.createElement(A.a,{defaultActiveKey:"1"},r.a.createElement(A.a.TabPane,{className:"content",tab:r.a.createElement("span",null,r.a.createElement(j.a,null),"Default"),key:"1"},r.a.createElement(h.a,null,r.a.createElement(v.a,{span:20,style:{textAlign:"center"}},r.a.createElement("div",{className:"section-search"},r.a.createElement(ee,{style:{maxWidth:160},format:"MM-DD-YYYY",onOk:function(e){f(e[0]),C(e[1])},value:[p,g],showTime:{defaultValue:I()("00:00:00","HH:mm:ss")}}),r.a.createElement(k.a,{className:"search-field",placeholder:"Select Accounts"}),r.a.createElement(k.a,{className:"search-field",placeholder:"Select Types"}),r.a.createElement(k.a,{className:"search-field",mode:"multiple",style:{minWidth:160},placeholder:"Select Payees",onChange:function(e){x(e),console.log("selected ".concat(e))},optionLabelProp:"label",value:P},Object.keys(l).map((function(e,a){return r.a.createElement($,{key:a,value:e,label:l[e]},l[e])}))),r.a.createElement(k.a,{mode:"multiple",className:"search-field",style:{minWidth:160},placeholder:"Select Categories",value:R,onChange:function(e){L(e)},optionLabelProp:"label"},Object.keys(t).map((function(e,a){return r.a.createElement($,{key:a,value:e,label:t[e]},t[e])}))),r.a.createElement(O.a.Search,{className:"search-field",style:{maxWidth:120}}),r.a.createElement(T.a,{type:"primary",onClick:function(){m.toastr.success("search data","".concat(p.format("YYYY:MM:DD")," ").concat(g.format("YYYY:MM:DD")," ").concat(P," ").concat(R.toString()))}},"CLEAR ALL")),r.a.createElement(Q,{transactions:s,accountsTable:a,categoriesTable:t,payeesTable:l,typesTable:ae})),r.a.createElement(v.a,{span:4},r.a.createElement(M,null)))),r.a.createElement(A.a.TabPane,{className:"content",tab:r.a.createElement("span",null,r.a.createElement(D.a,null),"Family"),key:"2"})))})),ne=t(512),re=t(513);t(481);t(482);var ce=Object(f.connect)((function(e){return e.category}))((function(e){var a=e.categories;return r.a.createElement("div",{className:"main-content"},a.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,e.id),r.a.createElement("br",null),r.a.createElement("div",null,e.name),r.a.createElement("br",null),r.a.createElement("br",null))})))}));t(483);var le=Object(f.connect)((function(e){return e.payee}))((function(e){var a=e.payees;return r.a.createElement("div",{className:"main-content"},a.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,e.id),r.a.createElement("br",null),r.a.createElement("div",null,e.name),r.a.createElement("br",null),r.a.createElement("br",null))})))}));t(484);var oe=Object(f.connect)((function(e){return e.account}))((function(e){var a=e.accounts;return r.a.createElement("div",{className:"main-content"},a.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,e.id),r.a.createElement("br",null),r.a.createElement("div",null,e.name),r.a.createElement("br",null),r.a.createElement("br",null))})))})),ie=t(514),se=t(46);function ue(){return localStorage.getItem("userEmail")}function me(e){return localStorage.setItem("userEmail",e)}function de(){return localStorage.removeItem("userEmail")}function Ee(e){var a={};return e.forEach((function(e){a[e.id]=e.name})),a}var pe=Object(f.connect)(null,{change_auth:b.user.change_auth})((function(e){var a=e.change_auth,t=Object(n.useState)(""),c=Object(N.a)(t,2),l=c[0],o=c[1],i=Object(n.useState)(""),s=Object(N.a)(i,2),u=s[0],m=s[1];return r.a.createElement(U.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e)}},r.a.createElement(U.a.Item,null,r.a.createElement("h1",null,"Sign In")),r.a.createElement(U.a.Item,{value:l,name:"username",rules:[{required:!0,message:"Please input your name or Email!"}]},r.a.createElement("p",null,"Username/Email"),r.a.createElement(O.a,{prefix:r.a.createElement(ie.a,{className:"site-form-item-icon"}),placeholder:"Username",onChange:function(e){return o(e.target.value)}})),r.a.createElement(U.a.Item,{value:u,name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement("p",null,"Password"),r.a.createElement(O.a,{prefix:r.a.createElement(re.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}})),r.a.createElement(U.a.Item,null,r.a.createElement(se.a,{to:"/register"},"Haven't registed yet? sign now"),r.a.createElement("br",null),r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(e){e.preventDefault(),a({email:"39260972@qq.com",auth:!0}),me("39260972@qq.com")}},"Mock Login"))})),fe=(t(203),t(74)),ye={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},be={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},ge=Object(f.connect)(null,{change_auth:b.user.change_auth})((function(e){var a=e.change_auth,t=U.a.useForm(),n=Object(N.a)(t,1)[0];return r.a.createElement(U.a,Object.assign({},ye,{form:n,name:"register",onFinish:function(e){console.log("Received values of form: ",e)},scrollToFirstError:!0}),r.a.createElement(U.a.Item,null,r.a.createElement("h1",null,"Sign Up")),r.a.createElement(U.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(O.a,null)),r.a.createElement(U.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(O.a.Password,null)),r.a.createElement(U.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(O.a.Password,null)),r.a.createElement(U.a.Item,null,r.a.createElement(fe.a,null,r.a.createElement("a",{href:"/#"},"I agree with terms and conditions"))),r.a.createElement(U.a.Item,null,r.a.createElement("br",null),r.a.createElement(se.a,{to:"/login"},"Already have an account? Sign in here")),r.a.createElement(U.a.Item,be,r.a.createElement(T.a,{type:"primary",htmlType:"submit"},"Sign up")),r.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(e){e.preventDefault(),a({email:"39260972@qq.com",auth:!0}),me("39260972@qq.com")}},"Mock Register"))})),Ae=t(515),he=t(516),ve=t(517),Te=t(518),Oe=t(519),Ne=function(e){return Object(f.connect)((function(e){return{auth:e.user.auth}}))((function(a){return Object(n.useEffect)((function(){a.auth||a.history.push("/login")}),[a.auth,a.history]),r.a.createElement(e,a)}))},Ce=[{path:"/login",component:pe},{path:"/register",component:ge}],ke=[{path:"/",name:"Overall",component:Ne(te),icon:r.a.createElement(Ae.a,null)},{path:"/accounts",name:"Accounts",component:Ne(oe),icon:r.a.createElement(he.a,null)},{path:"/categories",name:"Categories",component:Ne(ce),icon:r.a.createElement(ve.a,null)},{path:"/payees",name:"Payees",component:Ne(le),icon:r.a.createElement(Te.a,null)},{path:"/profile",name:"Profile",component:Ne((function(){return r.a.createElement("div",{className:"main-content"},r.a.createElement(A.a,{defaultActiveKey:"1"},r.a.createElement(A.a.TabPane,{className:"content",tab:r.a.createElement("span",null,r.a.createElement(ne.a,null),"About Me"),key:"1"}," ","1"),r.a.createElement(A.a.TabPane,{className:"content",tab:r.a.createElement("span",null,r.a.createElement(re.a,null),"Password"),key:"2"},"2")))})),icon:r.a.createElement(Oe.a,null)}],je=t(73);function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{transactions:[]},a=arguments.length>1?arguments[1]:void 0;switch(e=JSON.parse(JSON.stringify(e)),a.type){case"GET_TRANSACTIONS":var t=a.data.transactions;e.transactions=t;break;case"ADD_TRANSACTION":e.transactions.push(a.data);break;case"DELETE_TRANSACTION":e.transactions=e.transactions.filter((function(e){return e.id!==a.data.id}));break;case"UPDATE_TRANSACTION":e.transactions=e.transactions.map((function(e){return e.id!==a.data.id?e:Object(g.a)({},e,{},a.data)}))}return e}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{accounts:[],accountsTable:{}},a=arguments.length>1?arguments[1]:void 0;switch(e=JSON.parse(JSON.stringify(e)),a.type){case"GET_ACCOUNTS":var t=a.data;e.accounts=t,e.accountsTable=Ee(t);break;case"ADD_ACCOUNT":e.accounts.push(a.data);break;case"DELETE_ACCOUNT":e.accounts=e.accounts.filter((function(e){return e.id!==a.data.id}));break;case"UPDATE_ACCOUNT":e.accounts=e.accounts.map((function(e){return e.id!==a.data.id?e:Object(g.a)({},e,{},a.data)}))}return e}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[],categoriesTable:{}},a=arguments.length>1?arguments[1]:void 0;switch(e=JSON.parse(JSON.stringify(e)),a.type){case"GET_CATEGORIES":var t=a.data;e.categories=t,e.categoriesTable=Ee(t);break;case"ADD_CATEGORY":e.categories.push(a.data);break;case"DELETE_CATEGORY":e.categories=e.categories.filter((function(e){return e.id!==a.data.id}));break;case"UPDATE_CATEGORY":e.categories=e.categories.map((function(e){return e.id!==a.data.id?e:Object(g.a)({},e,{},a.data)}))}return e}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:"",auth:!!ue()},a=arguments.length>1?arguments[1]:void 0;switch(e=JSON.parse(JSON.stringify(e)),a.type){case"CHANGE_AUTH":var t=a.data;e.email=t.email,e.auth=t.auth}return e}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{payees:[],payeesTable:{}},a=arguments.length>1?arguments[1]:void 0;switch(e=JSON.parse(JSON.stringify(e)),a.type){case"GET_PAYEES":var t=a.data;e.payees=t,e.payeesTable=Ee(t);break;case"ADD_PAYEE":e.payees.push(a.data);break;case"DELETE_PAYEE":e.payees=e.payees.filter((function(e){return e.id!==a.data.id}));break;case"UPDATE_PAYEE":e.payees=e.payees.map((function(e){return e.id!==a.data.id?e:Object(g.a)({},e,{},a.data)}))}return e}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{globalLoading:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GLOBAL_LOADING":(e=JSON.parse(JSON.stringify(e))).globalLoading=a.data}return e}var Ye=function(e){return Object(je.c)({router:Object(E.b)(e),transaction:De,account:we,category:Ie,user:Se,payee:Pe,globalLoading:xe,toastr:m.reducer})},Ue=t(239),Re=t(240),Le=t.n(Re),Me=Object(p.a)(),_e=Object(je.d)(Ye(Me),Object(je.a)(Ue.a,Le.a)),Ge=(t(205),t(130)),Be=function(e){return e.loading?r.a.createElement("div",{style:{left:0,top:0,bottom:0,right:0,backgroundColor:"#fff",opacity:.6,position:"fixed",zIndex:999999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ge.a,{size:"large",style:{color:"#494e8f",marginBottom:"10px"}}),r.a.createElement("div",null,"Loading...")):null},qe=(t(214),t(132)),Je=(t(215),t(35)),ze=(t(216),t(135)),Ke=(t(217),t(133)),We=t(241),Fe=t.n(We);t(493);var He=Object(y.g)((function(e){var a=e.history.location.pathname,t=Object(n.useState)(!1),c=Object(N.a)(t,2),l=c[0],o=c[1];return r.a.createElement(qe.a.Sider,{collapsible:!0,collapsed:l,onCollapse:function(e){o(e)},className:"sidebar"},l?r.a.createElement("div",{className:"logo"},r.a.createElement(Ke.a,{shape:"square",size:48,src:Fe.a})):r.a.createElement(ze.a,{className:"logoName"},"MM Cloud"),r.a.createElement(P.a,{className:"divider"}),r.a.createElement(Je.a,{theme:"dark",defaultSelectedKeys:[a],mode:"inline",className:"menu"},ke.map((function(e){return e.name&&r.a.createElement(Je.a.Item,{key:e.path},r.a.createElement(se.a,{to:e.path},e.icon,r.a.createElement("span",null,e.name)))}))))})),Xe=(t(204),t(90)),Qe=t(520),Ve=(t(501),r.a.createElement(Je.a,null,r.a.createElement(Je.a.Item,null,r.a.createElement(se.a,{to:"/profile"},"About me")),r.a.createElement(Je.a.Item,null,r.a.createElement(se.a,{to:"/profile"},"Change password"))));var Ze=Object(f.connect)((function(e){return{email:e.user.email}}),{change_auth:b.user.change_auth})((function(e){var a=e.email,t=e.change_auth;return r.a.createElement("div",{className:"user-info"},r.a.createElement(Xe.a,{overlay:Ve},r.a.createElement(se.a,{className:"ant-dropdown-link",to:"/profile"},r.a.createElement(ze.a,{className:"user-name"},"Hi ",a)," ",r.a.createElement(Qe.a,{className:"arrow-down"}))),r.a.createElement(Ke.a,{className:"user-symbol"},"J"),r.a.createElement(T.a,{className:"btn",onClick:function(){de(),t({email:"",auth:!1})}},"Log Out"))}));function $e(e){return r.a.createElement(qe.a,{style:{minHeight:"100vh",backgroundColor:"rgb(240, 242, 245)"}},r.a.createElement(He,null),r.a.createElement(Ze,null),r.a.createElement("div",null,e.children))}var ea=function(e){return Z({data:e,url:"/api/v1/categories"})},aa=[{id:1,name:"Tester1"},{id:2,name:"Tester2"}],ta=Object(p.a)();var na=Object(f.connect)((function(e){return{auth:e.user.auth}}),{get_accounts:b.account.get_accounts,get_categories:b.category.get_categories,change_auth:b.user.change_auth,get_payees:b.payee.get_payees})((function(e){var a=e.change_auth,t=e.get_accounts,c=e.get_categories,l=e.get_payees,o=e.auth;Object(n.useEffect)((function(){console.log("Getting user account"),(o||ue())&&new Promise((function(e,a){var t;Promise.all([Z({data:t,url:"/api/v1/accounts"}),ea()]).then((function(a){var t,n=Object(N.a)(a,2),r=n[0],c=n[1];t=401===r.status||401===c.status?{status:401,message:"Get User Failed"}:{data:{accounts:r.data.accounts,categories:c.data.categories,email:"39260972@qq.com",payees:aa},status:200,message:"Get User Successfully"},e(t)}))})).then((function(e){200===e.status?(me(e.data.email),a({email:e.data.email,auth:!0}),t(e.data.accounts),c(e.data.categories),l(e.data.payees)):401===e.status&&(de(),a({email:"",auth:!1}),t([]),c([]),m.toastr.error("Error","Not Get User Info"))})).catch((function(e){console.log(e)}))}),[a,t,c,l,o]);var i=function(){return r.a.createElement(y.d,null,Ce.map((function(e,a){return r.a.createElement(y.b,{exact:!0,key:a,path:e.path,component:e.component})})),r.a.createElement(y.a,{to:"/login"}))},s=function(){return r.a.createElement($e,null,r.a.createElement(y.d,null,ke.map((function(e,a){return r.a.createElement(y.b,{exact:!0,key:a,path:e.path,component:e.component})})),r.a.createElement(y.a,{to:"/"})))};return r.a.createElement(E.a,{history:ta},o?r.a.createElement(s,null):r.a.createElement(i,null))}));var ra=Object(f.connect)((function(e){return{globalLoading:e.globalLoading.globalLoading,auth:e.user.auth}}),b.globalLoading)((function(e){var a=e.globalLoading;return e.auth,r.a.createElement(Be,{loading:a})})),ca=function(e){Object(u.a)(t,e);var a=Object(s.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.Provider,{store:_e},r.a.createElement(ra,null),r.a.createElement(na,null),r.a.createElement(d.a,{position:"bottom-center",transitionIn:"fadeIn",transitionOut:"fadeOut"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ca,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.903f4871.chunk.js.map